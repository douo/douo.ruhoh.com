light = [["2012-08-10", 1], ["2012-08-11", 1], ["2012-08-13", 3], ["2012-08-18", 1], ["2012-08-22", 1], ["2012-09-01", 1], ["2012-09-07", 1], ["2012-09-11", 3], ["2012-09-17", 1], ["2012-09-20", 1], ["2012-09-22", 1], ["2012-10-23", 1], ["2012-10-24", 2], ["2012-11-01", 1], ["2012-11-02", 1], ["2012-11-05", 4], ["2012-11-06", 1], ["2012-11-07", 2], ["2012-11-08", 1], ["2012-11-13", 1], ["2012-11-14", 1], ["2012-11-15", 1], ["2012-11-20", 1], ["2012-11-21", 1], ["2012-11-22", 2], ["2012-11-30", 1], ["2012-12-01", 1], ["2012-12-10", 1], ["2012-12-11", 1], ["2012-12-20", 2], ["2012-12-21", 1], ["2012-12-22", 1], ["2012-12-25", 1], ["2012-12-28", 1], ["2013-01-05", 1], ["2013-01-08", 1], ["2013-01-09", 1], ["2013-01-19", 1], ["2013-02-04", 1], ["2013-02-14", 1], ["2013-02-19", 1], ["2013-02-21", 1], ["2013-02-22", 1], ["2013-02-28", 1], ["2013-03-01", 1], ["2013-03-04", 1], ["2013-03-06", 1], ["2013-03-07", 1], ["2013-03-11", 1], ["2013-03-26", 1], ["2013-03-27", 1], ["2013-03-30", 1], ["2013-04-04", 1], ["2013-04-14", 1], ["2013-04-19", 2], ["2013-04-29", 1], ["2013-05-07", 1], ["2013-05-24", 1], ["2013-06-09", 1], ["2013-06-18", 1], ["2013-06-25", 1], ["2013-08-05", 2], ["2013-08-14", 1], ["2013-08-15", 2]];


showBar = function (data) {
    for (var i = 0; i < data.length; i++) {
        data[i][1] = parseInt(data[i][1]);
    }
    $('#plotChart').empty();
    $('#plotChart').width($('#chartContainer').width()*0.96)
    $.jqplot.config.enablePlugins = true;
    $.jqplot('plotChart', [data], {
	seriesDefaults:{
                renderer:$.jqplot.BarRenderer,
	        color:"#08C",
	        rendererOptions: {
		    barPadding: 8, 
		    barMargin: 10,
		    barDirection: 'vertical',
		    barWidth: 2, 
		},
                pointLabels: { show: false }
            },
        axes: {
            xaxis: {
                renderer: $.jqplot.DateAxisRenderer,
		tickRenderer: $.jqplot.CanvasAxisTickRenderer,
                tickOptions: {
		    fontSize: '8pt',
		    angle: -60,
                    formatString: '%Y-%m-%d'
                }
            }
            
        }
    });
};


$(document).ready(function(){
  showBar(light);
});
